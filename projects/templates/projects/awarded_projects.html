{% extends "core/useful/base2.html" %}
{% load i18n %}

{% comment %}
# ---------------------------------------------------------------------
ðŸ“„ Fichier : awarded_projects.html
ðŸ“‚ Emplacement : projects/templates/projects/awarded_projects.html

ðŸŽ¯ Page affichÃ©e dans lâ€™espace entrepreneur (contractor dashboard).
    Elle permet Ã  lâ€™entrepreneur connectÃ© de visualiser tous les projets qui lui ont Ã©tÃ© attribuÃ©s.

ðŸ“Œ DonnÃ©es affichÃ©es pour chaque projet :
    - Titre
    - Client
    - Budget
    - Deadline
    - Statut
    - Bouton vers la page de dÃ©tail

âœ… Vue utilisÃ©e : awarded_projects_view()
âœ… Layout : base2.html (interface sobre)
# ---------------------------------------------------------------------
{% endcomment %}

{% block title %}{% trans "My Awarded Projects" %}{% endblock %}

{% block content %}
<!-- ðŸŒ Conteneur principal -->
<div class="max-w-6xl mx-auto bg-white p-8 shadow-md rounded-md">

    <!-- ðŸ§­ Titre principal -->
    <h2 class="text-2xl font-bold text-center mb-6">
        {% trans "Projects Awarded to You" %}
    </h2>

    {% if awarded_projects|length == 0 %}
        <!-- âŒ Aucun projet attribuÃ© -->
        <p class="text-center text-gray-500">
            {% trans "You haven't been awarded any projects yet." %}
        </p>
    {% else %}
        <!-- âœ… Affichage des projets attribuÃ©s -->
        <table class="w-full table-auto border-collapse">
            <thead class="bg-gray-100 text-left text-sm uppercase tracking-wide">
                <tr>
                    <th class="px-4 py-3">{% trans "Title" %}</th>
                    <th class="px-4 py-3">{% trans "Client" %}</th>
                    <th class="px-4 py-3">{% trans "Budget" %}</th>
                    <th class="px-4 py-3">{% trans "Deadline" %}</th>
                    <th class="px-4 py-3">{% trans "Status" %}</th>
                    <th class="px-4 py-3 text-center">{% trans "Actions" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for project in awarded_projects %}
                <tr class="border-b hover:bg-gray-50">

                    <!-- ðŸ·ï¸ Titre du projet -->
                    <td class="px-4 py-3 text-green-700 font-semibold">
                        {{ project.title }}
                    </td>

                    <!-- ðŸ‘¤ Client -->
                    <td class="px-4 py-3">{{ project.client.username }}</td>

                    <!-- ðŸ’° Budget -->
                    <td class="px-4 py-3">{{ project.budget }}</td>

                    <!-- ðŸ“… Ã‰chÃ©ance -->
                    <td class="px-4 py-3">{{ project.deadline }}</td>

                    <!-- ðŸ§­ Statut -->
                    <td class="px-4 py-3">{{ project.get_status_display }}</td>

                    <!-- ðŸ” Lien vers dÃ©tails -->
                    <td class="px-4 py-3 text-center">
                        <a href="{% url 'project_detail_page_view' project.id %}" class="text-sm text-teal-600 hover:underline">
                            {% trans "View" %}
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</div>
{% endblock %}
