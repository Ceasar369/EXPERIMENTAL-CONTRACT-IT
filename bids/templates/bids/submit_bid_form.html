{% extends "core/base2.html" %}
{% load i18n %}
{% load static %}
{# bids/templates/bids/submit_bid_form.html #}

{% block title %}{% trans "Submit a Bid" %}{% endblock %}

{% block content %}
<!-- 📦 Conteneur principal -->
<div class="max-w-xl mx-auto bg-white p-8 shadow-md rounded-md">
    <!-- 🏷️ Titre de la page -->
    <h2 class="text-2xl font-bold mb-6 text-center">{% trans "Submit Your Bid for:" %} {{ project.title }}</h2>

    <!-- 🧾 Formulaire de soumission -->
    <form method="POST" action="{% url 'submit-bid-form' project.id %}" id="bid-form">
        {% csrf_token %}

        <!-- 📝 Titre du projet (modifiable si le contracteur veut proposer autre chose) -->
        <label for="title" class="block mb-2 font-medium">{% trans "Title" %}</label>
        <input type="text" id="title" name="title" required
               class="w-full p-3 border rounded mb-4"
               value="{{ project.title }}">

        <!-- 📄 Description proposée (le contracteur peut ajuster) -->
        <label for="description" class="block mb-2 font-medium">{% trans "Proposed Description" %}</label>
        <textarea id="description" name="description" required
                  class="w-full p-3 border rounded mb-4">{{ project.description }}</textarea>

        <!-- 💰 Montant proposé : pré-rempli avec le budget initial -->
        <label for="amount" class="block font-medium">{% trans "Proposed Amount (CAD)" %}</label>
        <input type="number" step="0.01" name="amount" id="amount" 
            value="{{ project.budget }}" 
            required class="w-full p-3 border rounded mb-4">


        <!-- 📅 Date limite proposée -->
        <label for="deadline" class="block mb-2 font-medium">{% trans "Proposed Deadline" %}</label>
        <input type="date" id="deadline" name="deadline" required
               class="w-full p-3 border rounded mb-4"
               value="{{ project.deadline|date:'Y-m-d' }}">

        <!-- ✉️ Message explicatif libre du contracteur -->
        <label for="message" class="block mb-2 font-medium">{% trans "Explanation Message" %}</label>
        <textarea id="message" name="message" rows="5"
                  class="w-full p-3 border rounded mb-4"
                  placeholder="{% trans 'Explain why you are the right contractor for this project...' %}"></textarea>

        <!-- 🚀 Bouton de soumission -->
        <button type="submit"
                class="w-full bg-teal-600 text-white py-3 rounded hover:bg-teal-700">
            {% trans "Send My Bid" %}
        </button>
    </form>
</div>
{% endblock %}
